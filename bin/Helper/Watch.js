"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 观察一个或多个变量的改变。对于数组、Map、Set，添加或删除元素操作也会触发。
 * 返回一个off方法用于取消监听变化
 */
function watch(items, callback) {
    function listener() { callback(items); }
    items.forEach((item) => {
        item.on('set', listener);
        item.on('add', listener);
        item.on('remove', listener);
    });
    return function off() {
        items.forEach((item) => {
            item.off('set', listener);
            item.off('add', listener);
            item.off('remove', listener);
        });
    };
}
exports.watch = watch;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhlbHBlci9XYXRjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBOzs7R0FHRztBQUNILGVBQXlCLEtBQThCLEVBQUUsUUFBbUU7SUFDeEgsc0JBQXNCLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFeEMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQVMsRUFBRSxFQUFFO1FBQ3hCLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ2hDLENBQUMsQ0FBQyxDQUFDO0lBRUgsT0FBTztRQUNILEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFTLEVBQUUsRUFBRTtZQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUNqQyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQTtBQUNMLENBQUM7QUFoQkQsc0JBZ0JDIiwiZmlsZSI6IkhlbHBlci9XYXRjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGVWYXJpYWJsZSB9IGZyb20gXCIuLi9PYnNlcnZhYmxlRGF0YVR5cGUvT2JzZXJ2YWJsZVZhcmlhYmxlXCI7XHJcblxyXG4vKipcclxuICog6KeC5a+f5LiA5Liq5oiW5aSa5Liq5Y+Y6YeP55qE5pS55Y+Y44CC5a+55LqO5pWw57uE44CBTWFw44CBU2V077yM5re75Yqg5oiW5Yig6Zmk5YWD57Sg5pON5L2c5Lmf5Lya6Kem5Y+R44CCICAgXHJcbiAqIOi/lOWbnuS4gOS4qm9mZuaWueazleeUqOS6juWPlua2iOebkeWQrOWPmOWMllxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdhdGNoPFQ+KGl0ZW1zOiBPYnNlcnZhYmxlVmFyaWFibGU8VD5bXSwgY2FsbGJhY2s6ICh2YXJpYWJsZXM6IFJlYWRvbmx5QXJyYXk8T2JzZXJ2YWJsZVZhcmlhYmxlPFQ+PikgPT4gdm9pZCkge1xyXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIoKSB7IGNhbGxiYWNrKGl0ZW1zKTsgfVxyXG5cclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgIGl0ZW0ub24oJ3NldCcsIGxpc3RlbmVyKTtcclxuICAgICAgICBpdGVtLm9uKCdhZGQnLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgaXRlbS5vbigncmVtb3ZlJywgbGlzdGVuZXIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9mZigpIHtcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaXRlbS5vZmYoJ3NldCcsIGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgaXRlbS5vZmYoJ2FkZCcsIGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgaXRlbS5vZmYoJ3JlbW92ZScsIGxpc3RlbmVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSJdfQ==
