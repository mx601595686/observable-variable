"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 可观察改变变量
 */
class ObservableVariable {
    constructor(value) {
        this._onSet = new Set();
        /**
         * 该变量是否是只读的，默认false
         */
        this.readonly = false;
        //#endregion
        //#region toJSON
        /**
         * 该变量是否允许toJSON，默认true
         */
        this.serializable = true;
        //确保不重复包裹变量
        if (value instanceof ObservableVariable) {
            /**
             * 如果造中使用了return，那么不管是父类还是子类的原型都将不会附加到该对象上
             * 构造函数也就退化成了普通方法
             * 子类构造中的this等于return的返回值
             */
            return value;
        }
        /**
         * 注意：如果要继承ObservableVariable，那么在子类的构造中
         * 在执行super(value)之后一定要判断一下 if(this === value)
         * 如果相等则说明是重复包裹，后面的代码则不应当执行
         */
        this._value = value;
    }
    static observe(value, path) {
        if (path === undefined) {
            return new ObservableVariable(value);
        }
        else if ('string' === typeof path) {
            path = path.split('.');
        }
        for (let index = 0, end = path.length - 1; index < end; index++) {
            value = value[path[index]];
        }
        value[path[path.length - 1]] = new ObservableVariable(value[path[path.length - 1]]);
    }
    get value() {
        return this._value;
    }
    set value(v) {
        if (this.readonly)
            throw new Error(`尝试修改一个只读的 ${this.constructor.name}`);
        if (this._onBeforeSet !== undefined)
            if (this._onBeforeSet(v, this._value, this) === false)
                return;
        if (this._onSet.size > 0) {
            const oldValue = this._value;
            this._value = v;
            this._onSet.forEach(callback => callback(v, oldValue));
        }
        else
            this._value = v;
    }
    toJSON() {
        return this.serializable ? this._value : undefined;
    }
    on(event, callback) {
        switch (event) {
            case 'set':
                this._onSet.add(callback);
                break;
            case 'beforeSet':
                this._onBeforeSet = callback;
                break;
        }
    }
    once(event, callback) {
        const tempCallback = (...args) => { this.off(event, tempCallback); return callback(...args); };
        this.on(event, tempCallback);
    }
    off(event, callback) {
        switch (event) {
            case 'set':
                callback ? this._onSet.delete(callback) : this._onSet.clear();
                break;
            case 'beforeSet':
                this._onBeforeSet = undefined;
                break;
        }
    }
}
exports.ObservableVariable = ObservableVariable;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9ic2VydmFibGVEYXRhVHlwZS9PYnNlcnZhYmxlVmFyaWFibGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7R0FFRztBQUNIO0lBc0NJLFlBQVksS0FBZ0M7UUFIbEMsV0FBTSxHQUE0QyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBc0J0RTs7V0FFRztRQUNJLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFzQnhCLFlBQVk7UUFFWixnQkFBZ0I7UUFFaEI7O1dBRUc7UUFDSSxpQkFBWSxHQUFZLElBQUksQ0FBQztRQWxEaEMsV0FBVztRQUNYLElBQUksS0FBSyxZQUFZLGtCQUFrQixFQUFFO1lBQ3JDOzs7O2VBSUc7WUFDSCxPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUVEOzs7O1dBSUc7UUFDSCxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBdkNELE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBVSxFQUFFLElBQVU7UUFDakMsSUFBSSxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQ3BCLE9BQU8sSUFBSSxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUN4QzthQUFNLElBQUksUUFBUSxLQUFLLE9BQU8sSUFBSSxFQUFFO1lBQ2pDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzFCO1FBRUQsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDN0QsS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztTQUM5QjtRQUVELEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksa0JBQWtCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4RixDQUFDO0lBa0NELElBQVcsS0FBSztRQUNaLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBRUQsSUFBVyxLQUFLLENBQUMsQ0FBSTtRQUNqQixJQUFJLElBQUksQ0FBQyxRQUFRO1lBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQyxhQUFhLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUUxRCxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssU0FBUztZQUMvQixJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssS0FBSztnQkFDakQsT0FBTztRQUVmLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFO1lBQ3RCLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDN0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7WUFDaEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7U0FDMUQ7O1lBQ0csSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQVdTLE1BQU07UUFDWixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztJQUN2RCxDQUFDO0lBY0QsRUFBRSxDQUFDLEtBQVUsRUFBRSxRQUFhO1FBQ3hCLFFBQVEsS0FBSyxFQUFFO1lBQ1gsS0FBSyxLQUFLO2dCQUNOLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUMxQixNQUFNO1lBRVYsS0FBSyxXQUFXO2dCQUNaLElBQUksQ0FBQyxZQUFZLEdBQUcsUUFBUSxDQUFDO2dCQUM3QixNQUFNO1NBQ2I7SUFDTCxDQUFDO0lBSUQsSUFBSSxDQUFDLEtBQVUsRUFBRSxRQUFhO1FBQzFCLE1BQU0sWUFBWSxHQUFHLENBQUMsR0FBRyxJQUFXLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsT0FBTyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBSUQsR0FBRyxDQUFDLEtBQVUsRUFBRSxRQUFhO1FBQ3pCLFFBQVEsS0FBSyxFQUFFO1lBQ1gsS0FBSyxLQUFLO2dCQUNOLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQzlELE1BQU07WUFFVixLQUFLLFdBQVc7Z0JBQ1osSUFBSSxDQUFDLFlBQVksR0FBRyxTQUFnQixDQUFDO2dCQUNyQyxNQUFNO1NBQ2I7SUFDTCxDQUFDO0NBR0o7QUE3SUQsZ0RBNklDIiwiZmlsZSI6Ik9ic2VydmFibGVEYXRhVHlwZS9PYnNlcnZhYmxlVmFyaWFibGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5Y+v6KeC5a+f5pS55Y+Y5Y+Y6YePXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZVZhcmlhYmxlPFQ+e1xyXG5cclxuICAgIC8vI3JlZ2lvbiDpnZnmgIHmlrnms5VcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWwhuS4gOS4quWPmOmHj+i9rOaNouaIkOWPr+inguWvn+WPmOmHj++8jOebuOW9k+S6jiBuZXcgT2JzZXJ2YWJsZVZhcmlhYmxlKHZhbHVlKVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgb2JzZXJ2ZTxUPih2YWx1ZTogT2JzZXJ2YWJsZVZhcmlhYmxlPFQ+IHwgVCk6IE9ic2VydmFibGVWYXJpYWJsZTxUPjtcclxuICAgIC8qKlxyXG4gICAgICog5bCG5a+56LGh5Lit5oyH5a6a5L2N572u55qE5LiA5Liq5Y+Y6YeP6L2s5o2i5oiQ5Y+v6KeC5a+f5Y+Y6YeP77yM6Lev5b6E6YCa6L+HYC5g5YiG5YmyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBvYnNlcnZlKG9iamVjdDogb2JqZWN0LCBwYXRoOiBzdHJpbmcpOiB2b2lkO1xyXG4gICAgLyoqXHJcbiAgICAgKiDlsIblr7nosaHkuK3mjIflrprkvY3nva7nmoTkuIDkuKrlj5jph4/ovazmjaLmiJDlj6/op4Llr5/lj5jph49cclxuICAgICAqL1xyXG4gICAgc3RhdGljIG9ic2VydmUob2JqZWN0OiBvYmplY3QsIHBhdGg6IHN0cmluZ1tdKTogdm9pZDtcclxuICAgIHN0YXRpYyBvYnNlcnZlKHZhbHVlOiBhbnksIHBhdGg/OiBhbnkpOiBhbnkge1xyXG4gICAgICAgIGlmIChwYXRoID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlVmFyaWFibGUodmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBwYXRoKSB7XHJcbiAgICAgICAgICAgIHBhdGggPSBwYXRoLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDAsIGVuZCA9IHBhdGgubGVuZ3RoIC0gMTsgaW5kZXggPCBlbmQ7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVtwYXRoW2luZGV4XV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YWx1ZVtwYXRoW3BhdGgubGVuZ3RoIC0gMV1dID0gbmV3IE9ic2VydmFibGVWYXJpYWJsZSh2YWx1ZVtwYXRoW3BhdGgubGVuZ3RoIC0gMV1dKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24g5bGe5oCnXHJcblxyXG4gICAgcHJvdGVjdGVkIF92YWx1ZTogVDsgIC8v5L+d5a2Y55qE5Y+Y6YeP5YC8XHJcbiAgICBwcm90ZWN0ZWQgX29uU2V0OiBTZXQ8KG5ld1ZhbHVlOiBULCBvbGRWYWx1ZTogVCkgPT4gdm9pZD4gPSBuZXcgU2V0KCk7XHJcbiAgICBwcm90ZWN0ZWQgX29uQmVmb3JlU2V0OiAobmV3VmFsdWU6IFQsIG9sZFZhbHVlOiBULCBvVmFyOiBPYnNlcnZhYmxlVmFyaWFibGU8VD4pID0+IGJvb2xlYW4gfCB2b2lkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBPYnNlcnZhYmxlVmFyaWFibGU8VD4gfCBUKSB7XHJcbiAgICAgICAgLy/noa7kv53kuI3ph43lpI3ljIXoo7nlj5jph49cclxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYnNlcnZhYmxlVmFyaWFibGUpIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIOWmguaenOmAoOS4reS9v+eUqOS6hnJldHVybu+8jOmCo+S5iOS4jeeuoeaYr+eItuexu+i/mOaYr+WtkOexu+eahOWOn+Wei+mDveWwhuS4jeS8mumZhOWKoOWIsOivpeWvueixoeS4ilxyXG4gICAgICAgICAgICAgKiDmnoTpgKDlh73mlbDkuZ/lsLHpgIDljJbmiJDkuobmma7pgJrmlrnms5VcclxuICAgICAgICAgICAgICog5a2Q57G75p6E6YCg5Lit55qEdGhpc+etieS6jnJldHVybueahOi/lOWbnuWAvFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5rOo5oSP77ya5aaC5p6c6KaB57un5om/T2JzZXJ2YWJsZVZhcmlhYmxl77yM6YKj5LmI5Zyo5a2Q57G755qE5p6E6YCg5LitXHJcbiAgICAgICAgICog5Zyo5omn6KGMc3VwZXIodmFsdWUp5LmL5ZCO5LiA5a6a6KaB5Yik5pat5LiA5LiLIGlmKHRoaXMgPT09IHZhbHVlKVxyXG4gICAgICAgICAqIOWmguaenOebuOetieWImeivtOaYjuaYr+mHjeWkjeWMheijue+8jOWQjumdoueahOS7o+eggeWImeS4jeW6lOW9k+aJp+ihjFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDor6Xlj5jph4/mmK/lkKbmmK/lj6ror7vnmoTvvIzpu5jorqRmYWxzZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IHZhbHVlKCk6IFQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IHZhbHVlKHY6IFQpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWFkb25seSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDlsJ3or5Xkv67mlLnkuIDkuKrlj6ror7vnmoQgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vbkJlZm9yZVNldCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25CZWZvcmVTZXQodiwgdGhpcy5fdmFsdWUsIHRoaXMpID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29uU2V0LnNpemUgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcclxuICAgICAgICAgICAgdGhpcy5fb25TZXQuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh2LCBvbGRWYWx1ZSkpO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIHRvSlNPTlxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K+l5Y+Y6YeP5piv5ZCm5YWB6K64dG9KU09O77yM6buY6K6kdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2VyaWFsaXphYmxlOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgdG9KU09OKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VyaWFsaXphYmxlID8gdGhpcy5fdmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIOS6i+S7tue7keWumuaWueazlVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5b2T6K6+572u5YC855qE5pe25YCZ6Kem5Y+RXHJcbiAgICAgKi9cclxuICAgIG9uKGV2ZW50OiAnc2V0JywgY2FsbGJhY2s6IChuZXdWYWx1ZTogVCwgb2xkVmFsdWU6IFQpID0+IHZvaWQpOiB2b2lkO1xyXG4gICAgLyoqXHJcbiAgICAgKiDlnKjlgLzlj5HnlJ/mlLnlj5jkuYvliY3op6blj5HvvIzov5Tlm552b2lk5oiWdHJ1ZeihqOekuuWQjOaEj+abtOaUue+8jOi/lOWbnmZhbHNl6KGo56S66Zi75q2i5pu05pS544CC5rOo5oSP77ya6K+l5Zue6LCD5Y+q5YWB6K646K6+572u5LiA5Liq77yM6YeN5aSN6K6+572u5bCG6KaG55uW5LmL5YmN55qE5Zue6LCD77yM5ZCM5pe26K6+572u55qE5Zue6LCD5piv5Lul5ZCM5q2l5pa55byP5omn6KGM55qEXHJcbiAgICAgKi9cclxuICAgIG9uKGV2ZW50OiAnYmVmb3JlU2V0JywgY2FsbGJhY2s6IChuZXdWYWx1ZTogVCwgb2xkVmFsdWU6IFQsIG9WYXI6IHRoaXMpID0+IGJvb2xlYW4gfCB2b2lkKTogdm9pZDtcclxuICAgIG9uKGV2ZW50OiBhbnksIGNhbGxiYWNrOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcclxuICAgICAgICAgICAgY2FzZSAnc2V0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uU2V0LmFkZChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2JlZm9yZVNldCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkJlZm9yZVNldCA9IGNhbGxiYWNrO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uY2UoZXZlbnQ6ICdzZXQnLCBjYWxsYmFjazogKG5ld1ZhbHVlOiBULCBvbGRWYWx1ZTogVCkgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgICBvbmNlKGV2ZW50OiAnYmVmb3JlU2V0JywgY2FsbGJhY2s6IChuZXdWYWx1ZTogVCwgb2xkVmFsdWU6IFQsIG9WYXI6IHRoaXMpID0+IGJvb2xlYW4gfCB2b2lkKTogdm9pZDtcclxuICAgIG9uY2UoZXZlbnQ6IGFueSwgY2FsbGJhY2s6IGFueSk6IGFueSB7XHJcbiAgICAgICAgY29uc3QgdGVtcENhbGxiYWNrID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB7IHRoaXMub2ZmKGV2ZW50LCB0ZW1wQ2FsbGJhY2spOyByZXR1cm4gY2FsbGJhY2soLi4uYXJncyk7IH07XHJcbiAgICAgICAgdGhpcy5vbihldmVudCwgdGVtcENhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBvZmYoZXZlbnQ6ICdzZXQnLCBjYWxsYmFjaz86IChuZXdWYWx1ZTogVCwgb2xkVmFsdWU6IFQpID0+IHZvaWQpOiB2b2lkO1xyXG4gICAgb2ZmKGV2ZW50OiAnYmVmb3JlU2V0JywgY2FsbGJhY2s/OiAobmV3VmFsdWU6IFQsIG9sZFZhbHVlOiBULCBvVmFyOiB0aGlzKSA9PiBib29sZWFuIHwgdm9pZCk6IHZvaWQ7XHJcbiAgICBvZmYoZXZlbnQ6IGFueSwgY2FsbGJhY2s6IGFueSk6IGFueSB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudCkge1xyXG4gICAgICAgICAgICBjYXNlICdzZXQnOlxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPyB0aGlzLl9vblNldC5kZWxldGUoY2FsbGJhY2spIDogdGhpcy5fb25TZXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnYmVmb3JlU2V0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uQmVmb3JlU2V0ID0gdW5kZWZpbmVkIGFzIGFueTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxufSJdfQ==
